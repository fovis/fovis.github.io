<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>libfovis: Rectification Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libfovis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefovis.html">fovis</a></li><li class="navelem"><a class="el" href="classfovis_1_1Rectification.html">Rectification</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfovis_1_1Rectification-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Rectification Class Reference<div class="ingroups"><a class="el" href="group__FovisCore.html">Fovis core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Maps image coordinates from an input image to image coordinates on a rectified camera.  
 <a href="classfovis_1_1Rectification.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a26b289f3a9422898e0827833500f5a7f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#a26b289f3a9422898e0827833500f5a7f">getInputCameraParameters</a> () const </td></tr>
<tr class="separator:a26b289f3a9422898e0827833500f5a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9df4b38b1c567ab56c3fceb1f51193"><td class="memItemLeft" align="right" valign="top">const Eigen::Matrix3d &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#aad9df4b38b1c567ab56c3fceb1f51193">getRectificationRotation</a> () const </td></tr>
<tr class="separator:aad9df4b38b1c567ab56c3fceb1f51193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e99685d2431ad016434b13edf5a7e0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#ac3e99685d2431ad016434b13edf5a7e0">getRectifiedCameraParameters</a> () const </td></tr>
<tr class="separator:ac3e99685d2431ad016434b13edf5a7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7ab855a169e8260203e83dc926e31c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfovis_1_1Rectification.html">Rectification</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#acd7ab855a169e8260203e83dc926e31c">makeCopy</a> () const </td></tr>
<tr class="separator:acd7ab855a169e8260203e83dc926e31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a08ffa2c5fd3bf905f0a2949a14178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#a63a08ffa2c5fd3bf905f0a2949a14178">Rectification</a> (const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;input_camera_params)</td></tr>
<tr class="separator:a63a08ffa2c5fd3bf905f0a2949a14178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850b5be87e72670261ef158a13a02606"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#a850b5be87e72670261ef158a13a02606">Rectification</a> (const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;input_camera_params, const Eigen::Matrix3d &amp;rotation, const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;rectified_camera_params)</td></tr>
<tr class="separator:a850b5be87e72670261ef158a13a02606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ede2d21c8bfe048f16ec510e53bd7c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#a6ede2d21c8bfe048f16ec510e53bd7c7">rectifyBilinearLookup</a> (const Eigen::Vector2d &amp;dist_uv, Eigen::Vector2d *rect_uv) const </td></tr>
<tr class="separator:a6ede2d21c8bfe048f16ec510e53bd7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997ec4bb4cf597491445a8e42e183e5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#a997ec4bb4cf597491445a8e42e183e5d">rectifyLookup</a> (int dist_u, int dist_v, Eigen::Vector2d *rect_uv) const </td></tr>
<tr class="separator:a997ec4bb4cf597491445a8e42e183e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac898654ec6adbc843e8e036736ae077f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfovis_1_1Rectification.html#ac898654ec6adbc843e8e036736ae077f">rectifyLookupByIndex</a> (int pixel_index, Eigen::Vector2d *rect_uv) const </td></tr>
<tr class="separator:ac898654ec6adbc843e8e036736ae077f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Maps image coordinates from an input image to image coordinates on a rectified camera. </p>
<p>A <a class="el" href="classfovis_1_1Rectification.html" title="Maps image coordinates from an input image to image coordinates on a rectified camera. ">Rectification</a> object represents the computation required to map pixels from an input camera to pixels on a "rectified" virtual camera that shares the same focal point, but may be rotated and have different projection parameters (e.g., focal length, center of projection, etc.)</p>
<p>This class is primary useful with stereo cameras to rectify pixels on both input cameras to rectified cameras that share an image plane and look/up vectors. It can also be used for simple undistortion (e.g., no rotation, and a rectified camera that has the same projection parameters as the input camera, but with no distortion).</p>
<p>For fast rectification, the <a class="el" href="classfovis_1_1Rectification.html" title="Maps image coordinates from an input image to image coordinates on a rectified camera. ">Rectification</a> object precomputes a mapping from (u, v) image pixel coordinates to u', v' rectified image pixel coordinates. The exact transformation from (u, v) to (u', v') is:</p>
<ol type="1">
<li>undistort according to a plumb-bob distortion model</li>
<li>rotate points about the origin</li>
<li>reproject onto a rectified image plane.</li>
</ol>
<p><a class="el" href="classfovis_1_1Rectification.html" title="Maps image coordinates from an input image to image coordinates on a rectified camera. ">Rectification</a> of pixels is done by bilinear interpolation on this precomputed mapping. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a63a08ffa2c5fd3bf905f0a2949a14178"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfovis_1_1Rectification.html">Rectification</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>input_camera_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience constructor to create a <a class="el" href="classfovis_1_1Rectification.html" title="Maps image coordinates from an input image to image coordinates on a rectified camera. ">Rectification</a> object that simply undistorts. The rotation is set to identity, and the rectified camera parameters are identical to the input camera parameters, but have no distortion. </p>

</div>
</div>
<a class="anchor" id="a850b5be87e72670261ef158a13a02606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfovis_1_1Rectification.html">Rectification</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>input_camera_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Matrix3d &amp;&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>rectified_camera_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. The rectified_camera_params are not allowed to have any distortion. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a26b289f3a9422898e0827833500f5a7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a>&amp; getInputCameraParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the intrisic parameters of the input camera. </dd></dl>

</div>
</div>
<a class="anchor" id="aad9df4b38b1c567ab56c3fceb1f51193"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Eigen::Matrix3d&amp; getRectificationRotation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the rotation to apply between the undistorted input camera frame and the output rectified camera frame. </dd></dl>

</div>
</div>
<a class="anchor" id="ac3e99685d2431ad016434b13edf5a7e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfovis_1_1CameraIntrinsicsParameters.html">CameraIntrinsicsParameters</a>&amp; getRectifiedCameraParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the projection parameters of the rectified camera. The distortion coefficients will always be zero. Note that the focal length and image dimensions of the rectified camera do not have to match those of the input camera. </dd></dl>

</div>
</div>
<a class="anchor" id="a997ec4bb4cf597491445a8e42e183e5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rectifyLookup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dist_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dist_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector2d *&#160;</td>
          <td class="paramname"><em>rect_uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes the undistorted image coordinates of the input distorted coordinates (<code>dist_u</code>, <code>dist_v</code>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dist_u</td><td>input distorted pixel u/x coordinate. </td></tr>
    <tr><td class="paramname">dist_v</td><td>input distorted pixel v/y coordinate. </td></tr>
    <tr><td class="paramname">rect_uv</td><td>output parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac898654ec6adbc843e8e036736ae077f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rectifyLookupByIndex </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixel_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector2d *&#160;</td>
          <td class="paramname"><em>rect_uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes the undistorted image coordinates of an input pixel specified by its row-major pixel index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixel_index</td><td>corresponds to <img class="formulaInl" alt="$ u * width + v $" src="form_7.png"/> </td></tr>
    <tr><td class="paramname">rect_uv</td><td>output parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classfovis_1_1Rectification.html#a997ec4bb4cf597491445a8e42e183e5d">rectifyLookup</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6ede2d21c8bfe048f16ec510e53bd7c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rectifyBilinearLookup </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector2d &amp;&#160;</td>
          <td class="paramname"><em>dist_uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Vector2d *&#160;</td>
          <td class="paramname"><em>rect_uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes the undistorted image coordinates of an input pixel via bilinear interpolation of its integer-coordinate 4-neighboors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dist_uv</td><td>input distorted pixel coordinates. </td></tr>
    <tr><td class="paramname">rect_uv</td><td>output parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd7ab855a169e8260203e83dc926e31c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfovis_1_1Rectification.html">Rectification</a>* makeCopy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a deep copy of this object. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="rectification_8hpp_source.html">rectification.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 6 2015 22:20:08 for libfovis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
